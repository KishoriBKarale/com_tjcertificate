var template={previewTemplate:function(){jQuery(document).on("click",'button[data-target="#templatePreview"]',function(){if("undefined"!=typeof tinyMCE)tinyMCE.execCommand("mceToggleEditor",!1,"jform_body");else if("undefined"!=typeof CodeMirror){var e=document.querySelector(".CodeMirror").CodeMirror;jQuery("#jform_body").html(e.getValue())}jQuery("#previewTempl").empty(),jQuery("<style>").html(jQuery("#jform_template_css").val()).appendTo("#previewTempl"),jQuery("<div>").html(jQuery("#jform_body").val()).appendTo("#previewTempl")}),jQuery("#templatePreview").on("hidden.bs.modal",function(){"undefined"!=typeof tinyMCE&&tinyMCE.execCommand("mceToggleEditor",!1,"jform_body"),jQuery("#previewTempl").empty()})},loadDefaultTemplate:function(e){var r={};if(""==e||void 0===e)return!1;r.defaultTemplate=e,tjCertificateService.loadDefaultTemplate(r).fail(function(e){var r={error:[e.responseText]};Joomla.renderMessages(r)}).done(function(e){if(!e.success&&e.message){var r={error:[e.message]};Joomla.renderMessages(r)}e.messages&&Joomla.renderMessages(e.messages),e.success&&template.renderDefaultTemplate(e)})},renderDefaultTemplate:function(e){var r=e.data;if(jQuery("#jform_body").empty().html(r),"undefined"!=typeof tinyMCE)tinyMCE.get("jform_body").setContent(r),tinyMCE.execCommand("mceToggleEditor",!1,"jform_body"),tinyMCE.execCommand("mceToggleEditor",!1,"jform_body");else if("undefined"!=typeof CodeMirror){document.querySelector(".CodeMirror").CodeMirror.setValue(r)}}};